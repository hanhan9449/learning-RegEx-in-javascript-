## 正则表达式对于解决问题的意义

在开始学习正则表达式之前，我们想一想正则表达式是用来解决什么问题的。

> 正规表达式使用单个字符串来描述、匹配一系列符合某个句法规则的字符串。在很多文本编辑器里，正规表达式通常被用来检索、替换那些符合某个模式的文本。
> [正则表达式--维基百科](https://zh.wikipedia.org/wiki/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F)

看来，正则表达式是用来解决字符串检索，匹配的问题的。那么我们在这看一看`leetcode`上一个可以用正则表达式解决的字符串问题吧。

[65. 有效数字](https://leetcode-cn.com/problems/valid-number/)，前面的就是我们待会要讨论的问题啦，大家可以点进去看一看。但是大家不要被它的难度吓倒了哦，虽然他的难度等级标记为困难，但是这道题用正则表达式来解只需要一行代码哦（虽然构造正则表达式不是这么容易啦）！那大家先看两分钟哦，两分钟之后如果没有思路的话可以看看他的答案，或者看我的解释啦。

在不用正则表达式的情况下，我们可以怎么做呢？

1. `leetcode`上面的精选答案是用的有限状态机(`DFA`)，这个也是正则表达式内部的原理哦！
2. 用大量的`if`、`else`来进行判断

那使用正则表达式可以怎么做呢，我认为可以分为下面几步：

1. 首先对输入的字符串进行处理。

   例如这个题输入字符串两端是可能有空格的，可以使用字符串的函数`trim()`来去除两端的空格，简化正则表达式需要判断的条件。

2. 开始构造我们需要的正则表达式。

   正则表达式在`javascript`的世界中是**第一公民**，也就是说我们可以把正则表达式直接当成一种类型。（这个会在后续介绍到）

   在这道题中，构造正则表达式的时候，就需要分析如果一个字符串要成为有效的数字，得在什么条件中。

   1. 一个合法的数字一定是这样的"`+1.1e-2`"，并且所输入的字符串一定是只包含前面的字符串
   2. 首先单独一个0是数字，那么意味着字符串中的小数部分（小数点和后面的小数），指数部分（例如`e-3`）都是可以省略的（用正则表达式表示即为?（后续会说到，现在不会没有关系，后同））。

   2. 接下来分析e前面的部分，根据经验，如果小数部分存在，那么如果小数点前面是零，则可以省略（在这里，我使用`|`分支来判断条件）。并且如果数字前面有`+-`，也是合法的。

   3. 接下来分析e后面的部分，根据例子我们得知，e后面的数字不能为小数，但是可以为整数。

   那么，分析到这里，如果你已经学会了正则表达式，就一定可以得出答案了（不会的话就看完再来做这道题吧）。下面是我的答案：

   ```javascript
   var isNumber = function(s) {
     return /^(?:[-+]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[-+]?\d+)?)$/.test(s.trim())
   };
   ```

   

## 总结

看到这里，有没有觉得正则表达式是不是特别有用的，用简简单单的一行代码，就可以解决复杂的问题，所以如果激发了你的兴趣的话，就来学习正则表达式吧。