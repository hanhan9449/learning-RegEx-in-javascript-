## 如何看懂正则表达式

> 在我们正式进入正则表达式的学习之前，让我们先来学习一下如何看懂正则表达式吧。学习了这一章，对于一些简单的正则表达式就可以轻松的理解了。

### 重要的事情：

1. 正则表达式不可以为了美观乱添加空格，换行
2. 在 javascript 中，正则表达式是第一公民（可以赋值给变量）
3. 在 javascript 中，正则表达式用`/表达式/`来表示，即在注释符号里面添加内容。

### 概括

- "+" 代表着**一个**或多个
- "\*" 代表着**零个**或多个
- "?" 代表零个或一个
- "." 可以替换任意字符的字符
- "[]" 可以匹配中括号中任意字符（或者通配符）
- "^" 如果放在"\[]"外，代表着这是是匹配项的开头；如果在"[]"内，代表着取反（即在里面的不能匹配）
- "\$" 表示匹配项的末尾
- "()" 表示把括号里面的分成一个组，就可以对组用前面的"+\*?"了

### 例子

#### "+" 代表着一个或多个 && "\*" 代表着零个和多个

```javascript
let re = /ca+bd*/;
```

例如上述的正则表达式 re 则可以匹配(`re.test(word) === true`)："cab", "caaaabdd", "ccaabb"，但是不能匹配："cb", "cadb"

#### 使用括号为匹配项分组

上面的成就一定很让你惊喜吧，但是这个时候我们想让"你最棒"**同时出现**，并且**重复一到无数次**，我们应该怎么做呢？还好，正则表达式提供了非常方便的括号表达式"()"。那我们来实战一下学习一下用法：

需求分析：

1. 你最棒 同时出现
2. 你最棒 可以重复一到无数次

```javascript
let re = /(你最棒)+/;
```

我们将 cba 用括号括起来，这样就可以将 cba 分在一个组，这时"+"就不只是对 a 使用了，而是将括号里面的元素作为整体同时使用。该是很好理解吧。

**进阶**：

如果我们想让**数量相等的** 你最棒 **前后环绕**一个人名，例如: "_你最棒你最棒你最棒 hanhan9449 你最棒你最棒你最棒_" 才算正确，那我们应该怎么做呢？

**提示**：

其实在这里有个()的小技巧没有给大家说哦，我们使用括号分组之后，系统会把这个括号里面的变量存储起来，并且暂时记为\1(第一个小括号)，第二个小括号就\2 啦，依次类推，总共可以使用 99 个这样的变量哦。

**答案**：

那么聪明的你现在一定已经想到了答案了对吧，既然我们可以使用\1 变量，就可以轻松的实现名字前面和后面相等的匹配啦。

```javascript
let re = /((你最棒)+) .* \1/;
re.test("你最棒你最棒你最棒 hanhan9449 你最棒你最棒你最棒");
re.test("你最棒 hanhan9449 你最棒");
```

**优化**:

不知道你们有没有注意到，在这里，我们只用了最外面的小括号的值，但是我们将里面的小括号的值同样缓存了起来（最左边的"("为\1，然后依次为\2...）。如果正则表达式过长之后，这样写很容易带来性能问题。而正则表达式为解决这个问题提供了一个之分组不缓存的语法`(?:value)`，于是我们可以把上面的例子改写为：

```javascript
let re = /((?:你最棒)+) .* \1/;
```

所以大家以后看见这个符号，就知道它是分组用的，就不要说看不懂啦。
